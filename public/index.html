<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CostWise</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <header>
        <div class="container">
            <div class="header-left">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-10 w-10 text-primary">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                    <path d="M2 17l10 5 10-5"></path>
                    <path d="M2 12l10 5 10-5"></path>
                    <line x1="12" y1="22" x2="12" y2="17"></line>
                    <line x1="12" y1="12" x2="12" y2="7"></line>
                    <line x1="20" y1="14.5" x2="20" y2="9.5"></line>
                    <line x1="4" y1="14.5" x2="4" y2="9.5"></line>
                </svg>
                <div>
                    <h1>Smart Production Cost Calculator</h1>
                    <p class="slogan">Your Intelligent Cost Estimator</p>
                </div>
            </div>
            <div class="header-right">
                <div class="toggle-container">
                    <label class="switch">
                        <input type="checkbox" id="nightToggle">
                        <span class="slider"></span>
                    </label>
                    <span class="label-text">Dark Mode</span>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="card-container">
            <div class="card-header">
                <div class="currency-select">
                    <label for="currency">Currency</label>
                    <select id="currency">
                        <option value="INR">â‚¹ INR - Indian Rupee</option>
                        <option value="EUR">â‚¬ EUR - Euro</option>
                        <option value="USD">$ USD - US Dollar</option>
                    </select>
                </div>
                <div class="button-group">
                    <button type="button" id="aiInsightBtn" class="btn primary">Calculate & Get AI Insights</button>
                    <button onclick="openSaveModal()" class="btn secondary">Save Current as Template</button>
                    <button onclick="clearForms()" class="btn danger">Clear Forms</button>
                </div>
            </div>
        </div>

        <div class="tab-wrapper">
            <div class="tab-container">
                <button class="tab" data-tab="materials_parent"><i class="fa-solid fa-boxes-stacked"></i>Raw Materials</button>
                <button class="tab" data-tab="labor_parent"><i class="fa-solid fa-users"></i>Labour</button>
                <button class="tab" data-tab="overheads_parent"><i class="fa-solid fa-truck-ramp-box"></i>Overheads</button>
                <button class="tab" data-tab="miscellaneous_parent"><i class="fa-solid fa-plus"></i>Miscellaneous</button>
                <button class="tab" data-tab="chart_parent"><i class="fa-solid fa-chart-pie"></i>Cost Chart</button>
                <button class="tab" data-tab="saved_templates"><i class="fa-solid fa-floppy-disk"></i>Saved Templates</button>
            </div>
        </div>

        <!-- Raw Materials -->
        <div id="materials_parent" class="raw-materials-card">
            <h2>Raw Materials</h2>
            <div class="outlined-wrapper material-block">
                <div class="material-inputs-labeled">
                    <div class="input-group">
                        <label>Material Name</label>
                        <input type="text" placeholder="Enter name" id="material_name" class="material-name" />
                    </div>
                    <div class="input-group">
                        <label>Quantity</label>
                        <input type="number" placeholder="Enter quantity" id="material_quantity"
                            class="material-quantity" />
                    </div>
                    <div class="input-group">
                        <label>Per Unit Cost</label>
                        <input type="number" placeholder="Enter cost" id="material_cost" class="material-cost" />
                    </div>
                    <button onclick="deleteElement(this)" class="delete-btn">Delete</button>
                </div>
            </div>
            <button onclick="createMaterialElement()" class="addbutton">+ Add Material</button>
        </div>

        <!-- Labor -->
        <div id="labor_parent" class="raw-materials-card">
            <h2>Labour Costs</h2>
            <div class="outlined-wrapper labor-block">
                <div class="material-inputs-labeled">
                    <div class="input-group">
                        <label>Name</label>
                        <input type="text" placeholder="Enter name of the labour" id="labor_name" class="labor-name" />
                    </div>
                    <div class="input-group">
                        <label>Hours Worked</label>
                        <input type="number" placeholder="Enter number of hours" id="labor_hours" class="labor-hours" />
                    </div>
                    <div class="input-group">
                        <label>Labor Cost</label>
                        <input type="number" placeholder="Enter the cost per/hr" id="labor_cost" class="labor-cost" />
                    </div>
                    <button onclick="deleteElement(this)" class="delete-btn">Delete</button>
                </div>
            </div>
            <button onclick="createLaborElement()" class="addbutton">+ Add Labor</button>
        </div>

        <!-- Overheads -->
        <div id="overheads_parent" class="raw-materials-card">
            <h2>Overheads Costs</h2>
            <div class="outlined-wrapper overhead-block">
                <div class="material-inputs-labeled">
                    <div class="input-group">
                        <label>Expense name</label>
                        <input type="text" placeholder="e.g, electricity, rent" id="overhead_name"
                            class="overhead-name" />
                    </div>
                    <div class="input-group">
                        <label>Quantity/Units</label>
                        <input type="number" placeholder="Enter the quantity" id="overhead_hours"
                            class="overhead-hours" />
                    </div>
                    <div class="input-group">
                        <label>Cost</label>
                        <input type="number" placeholder="Enter the service cost" id="overhead_cost"
                            class="overhead-cost" />
                    </div>
                    <button onclick="deleteElement(this)" class="delete-btn">Delete</button>
                </div>
            </div>
            <button onclick="createOverheadsElement()" class="addbutton">+ Add Overhead</button>
        </div>

        <!-- Miscellaneous -->
        <div id="miscellaneous_parent" class="raw-materials-card">
            <h2>Miscellaneous Costs</h2>
            <div class="outlined-wrapper miscellaneous-block">
                <div class="material-inputs-labeled">
                    <div class="input-group">
                        <label>Total Miscellaneous Costs</label>
                        <input type="number" placeholder="Enter total miscellaneous costs" id="miscellaneous_costs"
                            class="miscellaneous-costs" />
                    </div>
                </div>
            </div>
        </div>

        <!-- Cost Chart Tab -->
        <div id="chart_parent" class="raw-materials-card">
            <h2>Cost Breakdown Chart</h2>
            <div class="outlined-wrapper chart-block">
                <div class="chart-container-wrapper">
                    <div class="chart-info">
                        <p class="chart-description">Visual breakdown of your production costs</p>
                        <div id="chart-summary" class="chart-summary">
                            <!-- Summary will be populated by JavaScript -->
                        </div>
                    </div>
                    <div class="chart-canvas-container">
                        <canvas id="costPieChart" width="400" height="400"></canvas>
                    </div>
                    <div id="no-data-message" class="no-data-message">
                        <p>ðŸ“Š No cost data to display</p>
                        <p>Enter some costs in the other tabs to see the chart!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Saved Templates -->
        <div id="saved_templates" class="raw-materials-card">
            <h2>Saved Templates</h2>
            <div class="outlined-wrapper saved-templates-block">
                <div class="template-list">
                    <p class="no-templates">No saved templates yet. Create and save a template to see it here.</p>
                </div>
            </div>
        </div>

        <div id="ai-insights-container" class="ai-insights">
            <h2>AI Insights</h2>
            <div id="ai-insights-content">No insights available yet.</div>
        </div>

    </main>

    <footer>
        <p>&copy; 2025 CostWise</p>
    </footer>

    <!-- Chart.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="app.js"></script>
    <script src="saveTemplates.js"></script>
    <script src="piechart.js"></script>

</body>

</html>